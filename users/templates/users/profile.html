{% extends "fullsite/base.html" %}
{% load crispy_forms_tags %}
{% block content %}
<div class="container">
    <h1>{{ user.username }}'s Profile</h1>
    <h1>{{ user.email }}</h1>
    <img class="rounded-circle account-img" src="{{ user.profile.image.url }}" alt="">
</div>

{% if user_bookings %}
    <h2>Your Bookings</h2>
    <ul>
        {% for booking in user_bookings %}
            <li>
                {{ booking.date }} at {{ booking.time_slot }} - Court: {{ booking.court.name }}
                    <form action="{% url 'delete_booking' booking.id %}" method="post" style="display:inline;">
                        {% csrf_token %}
                        <button type="submit" onclick="return confirm('Are you sure you want to delete this booking?');">Delete</button>
                    </form>
            </li>
        {% endfor %}
    </ul>
{% else %}
    <p>You have no bookings.</p>
{% endif %}

{% if messages %}
<div class="alert">
    {% for message in messages %}
        <p>{{ message }}</p>
    {% endfor %}
</div>
{% endif %}

{% endblock content %}